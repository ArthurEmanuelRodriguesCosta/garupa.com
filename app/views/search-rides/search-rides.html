<div class="main-container container">



<!-- Search box -->
<div class="row">
  <div class="col-sm-10 col-sm-offset-1">
    
    <h1 class="text-center login-title"> Ache seu bigu! </h1>
    
    <div class="col-sm-10 col-sm-offset-1">
      <div class='col-md-8 col-md-offset-2 search-box box'>

        <table class='table table-responsive'>
          <tr><th> Busco carona para:</th><td><input type="checkbox" ng-model="myWay" ng-change="changeWay()" data-on-text="UFCG" data-off-text="Casa" data-off-color="warning" id="way-cb" data-label-text="UFCG"></td></tr>
          <tr><th> Seu bairro: </th><td> <input ng-model="search.adress" id="adress" style="margin: 0 auto;" type="text" data-source="{{dataSource}}" data-items="4" data-provide="typeahead" placeholder="Bairro" required></td></tr>
          <tr><th> No dia : </th><td> <input ng-model="search.date" type="text" placeholder="Escolha uma data" id="date"> </td></tr>
          <tr><th> Na hora : </th><td> <input ng-model="search.time" id="time" type="text" required> </td></tr>
        </table>
        
        <div class="col-md-12">
          <button ng-click="search()" class="btn btn-lg btn-primary btn-block" type="submit"> Buscar </button>  
        </div>
      
      </div>
    </div>
  </div>
</div>
  
<!-- Busca nao foi realizada -->
<div ng-if="!searchWasMade">
	<img class="img-responsive" style="width: 100%" src='assets/img/no-search.jpg'/>
</div>

<!-- Busca realizada -->
<div ng-if="searchWasMade">

  <!-- Busca feita porem nao achou caronas validas -->
  <div ng-if="filtered_users.length === 0" class="row not-found-box box">
    
    <div class="col-md-8 col-md-offset-2">
      <h4>Eita! Parece que nao tem bigu desse tipo nao, que pena :(. </h4>
    </div>

    <div class="col-md-4 col-md-offset-4" style="background-color:red">
      <button ng-submit="setModalMessage()" class="btn btn-md btn-primary btn-block" type="submit" data-toggle="modal" data-target="#modal" id="notify"> 
        Me notificar quando surgir um bigu desse!
      </button> 
    </div>
  
  </div>
  
  <!-- Busca feita e resultados foram encontrados -->
  <div ng-if="filtered_users.length !== 0" class="row find-box box">
    
    <table class='table table-responsive'>
  		<tr><th><h4>Bigus encontrados</h4></th></tr>
  		<tr ng-repeat="user in filtered_users">
  		  <td>
  		    <div class="row ride-box">
  		      
            <div class="col-md-4">
  		        <img class="img-responsive img-profile" ng-src="{{user.photo_url}}">
  		      </div>
  		      
            <div class="col-md-4">  
  		        <p>Nome: {{user.name}}</p>
  		        <p>Telefone: {{user.phone}}</p>
  		        <p>Bairro: {{user.address}}</p>
  		      </div>
  		      
            <div class="col-md-4">
  		        <button ng-click="setModalMessage($event)" class="btn btn-md btn-primary btn-block" 
              type="submit" data-toggle="modal" id="make-a-friend" data-target="#modal"> Amigos de bigu! </button> 
  		        <button ng-click="setModalMessage($event)" class="btn btn-md btn-primary btn-block"
              type="submit" data-toggle="modal" id="send-invitation" data-target="#modal"> Marcar carona </button> 
  		      </div>
  		    
          </div>
  		  </td>
  		</tr>
    </table>
  </div>
</div>

<!-- modals -->
<div class="modal fade" id="modal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <form class="form-horizontal" role="form">
        <div class="modal-header">
          <h4>{{modal_title}}<h4>
        </div>
        <div class="modal-body">
          <p> {{modal_message}}</p>
        </div>
        <div class="modal-footer">
          <a class="btn btn-default" data-dismiss="modal">Fechar</a>
        </div>
      </form>
    </div>
  </div>
  
</div>
